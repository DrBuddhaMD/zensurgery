(()=>{var e,t,n,o,i,a,r,c,l,d,s=["sample"],u=document.querySelectorAll(".nojs");if([].forEach.call(u,e=>{e.classList.remove("nojs")}),o=8,i=13,a=27,r=37,c=39,l=82,d=83,t={next:()=>{let e=document.querySelectorAll('[aria-label="Next"]')[0];e&&(window.location=e.href)},prev:()=>{let e=document.querySelectorAll('[aria-label="Previous"]')[0];e&&(window.location=e.href)}},e={enabled:!1,accuracy:.8,val:"",el:void 0,init:function(){this.el=document.createElement("div"),this.el.setAttribute("id","search");let e=document.getElementsByClassName("title")[0];e&&e.parentElement.appendChild(this.el)},enable:function(){this.enabled=!0,this.el.classList.remove("hidden"),this.render()},disable:function(){this.enabled=!1,this.val="",this.el.innerHTML="",this.el.classList.add("hidden")},append:function(e){this.val+=e.toLowerCase(),this.render()},del:function(){this.val=this.val.slice(0,-1),this.render()},render:function(){let e="";s.filter(e=>this.fuzzy(e,this.val,this.accuracy)).forEach(t=>{let n="";for(let e=0;e<t.length;e++){let s=t[e],o=!1;for(let e=0;e<this.val.length;e++)s===this.val[e]?o=!0:o=!1;o?n+=`<span class="highlight">${s}</span>`:n+=s}e+=`<a href="/tags/${t}"><div>${n}</div></a>`}),this.el.innerHTML=e},bestMatch:function(){let e=s.filter(e=>this.fuzzy(e,this.val,this.accuracy));return e.length?e[0]:void 0},fuzzy:function(e,t,n){e=e.toLowerCase();let s=t.toLowerCase(),o=0;if(e.indexOf(s)>-1)return!0;for(let t=0;t<s.length;t++)e.indexOf(s[t])>-1?o+=1:o-=1;return o/e.length>=n||t==""}},document.addEventListener("keydown",n=>{switch(n.which){case r:t.prev(),n.preventDefault();break;case c:t.next(),n.preventDefault();break;case l:e.enabled?e.append(String.fromCharCode(n.keyCode)):window.location="/random";break;case d:e.enabled?e.append(String.fromCharCode(n.keyCode)):e.enable();break;case a:e.enabled&&e.disable();break;case o:e.enabled&&(e.del(),n.preventDefault());break;case i:if(e.enabled){let t=e.bestMatch();t&&(window.location="/tags/"+t)}break;default:e.enabled&&e.append(String.fromCharCode(n.keyCode));break}},!1),e.init(),n=document.getElementById("rotate"),n){let e=0;n.addEventListener("click",()=>{let t=document.getElementsByTagName("img")[0];t.setAttribute("style",`transform: rotate(${e+=90}deg)`)})}})()